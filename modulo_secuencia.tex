\section*{Modulo \nombretad{SecuenciaOrdSinRep($\alpha$,$<_\alpha$,$=_\alpha$)}}

%INTERFAZ
\subsection*{Interfaz}
\textbf{interfaz} \textit{SecuenciaOrdSinRep($\alpha$)}\\
\textbf{se explica con la especificaci\'on de} \textit{Secuencia($\alpha$) extendido, itOrd($\alpha$)}\\
\textbf{usa interfaces} \nombretad{Bool}, \nombretad{$\alpha$}, \nombretad{itOrd($\alpha$)}\\
\textbf{genero} \textit{secuOrdSinRep($\alpha$), itOrd($\alpha$)}\\

\textbf{operaciones}\\

$<>$()$\longrightarrow$ res: secuOrdSinRep($\alpha$) \hfill (O(1))\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\}$\\

insertar(in a: $\alpha$, inout s: secuOrdSinRep($\alpha$)) \hfill (O(posicionRelativa(a)))\\
$\{\sombreritoWide{s}\ \igobs\ s_0\ \wedge$ ordenada($s_0$)$\}$\\
$\{\sombreritoWide{s}\ \igobs$ agregarOrdenado($\sombreritoWide{a}$,$s_0$)$\}$\\

vacia?(in s: secuOrdSinRep($\alpha$))$\longrightarrow$ res: bool\hfill (O(1))\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs$ vacia?($\sombreritoWide{a}$,$\sombreritoWide{s}$)$\}$\\

esta?(in a: $\alpha$, in s: secuOrdSinRep($\alpha$))$\longrightarrow$ res: bool\hfill (O(posicionRelativa(a)))\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs$ esta?($\sombreritoWide{a}$,$\sombreritoWide{s}$)$\}$\\

crearIt(in s: secuOrdSinRep($\alpha$))$\longrightarrow$ res: itOrd($\alpha$)\hfill (O(1))\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs$ crearIt($\sombreritoWide{s}$)$\}$\\

actual(in it: itOrd($\alpha$))$\longrightarrow$ res: $\alpha$\hfill (O(1))\\
$\{\neg$vacia?(verSecuSuby(it))$\}$\\
$\{$prim(verSecuSuby(it))$\}$\\

tieneProximo?(in it: itOrd($\alpha$))$\longrightarrow$ res: bool\hfill (O(1))\\
\{$\neg$vacia?(verSecuSuby(it))\}\\
\{$\sombreritoWide{res}$ \igobs $\neg$vacia?(fin(verSecuSuby(it)))\}\\

avanzar(inout it: itOrd($\alpha$))\hfill (O(1))\\
$\{\sombreritoWide{it}\ \igobs\ it_0\ \wedge$ tieneProximo?($it_0$)$\}$\\
$\{$verSecuSuby(it) $\igobs$ fin(verSecuSuby($it_0$))$\}$\\


%REPRESENTACION
\subsection*{Representaci\'on}
\textit{secuOrdSinRep($\alpha$)} \textbf{se representa con} \textit{estrSecuOrdSinRep}\\
\textbf{donde} \textit{estrSecuOrdSinRep} \textbf{es} \textit{puntero(nodo)}\\
\textbf{donde} \textit{nodo} \textbf{es} \textit{tupla $\langle$ dato: $\alpha$, proximo: puntero(nodo)$\rangle$}\\

\textit{itOrd($\alpha$)} \textbf{se representa con} \textit{estrIterOrd}\\
\textbf{donde} \textit{estrIterOrd} \textbf{es} \textit{puntero(nodo)}\\

%INVARIANTE DE REPRESENTACION
\subsection*{Invariante de Representaci\'on}
\alinearfuncs{Rep}{}
\func{Rep}{estrSecuOrdSinRep}{bool}{}
\vspace{11pt}
($\forall$ e: estrSecuOrdSinRep) Rep(e) = No hay ciclos en la secuencia $\wedge$ La secuencia est\'a ordenada $\wedge$ No hay repetidos en la secuencia

\vspace{22pt}

\func{Rep}{estrIterOrd}{bool}{}
\vspace{11pt}
($\forall$ e: estrIterOrd) Rep(e) = No hay ciclos en la secuencia

\vspace{33pt}

%FUNCION DE ABSTRACCION
\subsection*{Funci\'on de Abstracci\'on}
\alinearfuncs{Abs}{}
\func{Abs}{estrSecuOrdSinRep/e}{secuOrdSinRep($\alpha$)}{Rep(e)}
\vspace{11pt}
($\forall$ e: estrSecuOrdSinRep) Abs(e) = s: secuOrdSinRep($\alpha$)/\\
(vacia?(s) $\equiv$ (e == NULL)) $\yluego$ $\neg$vacia?(s) $\impluego$ (prim(s) $\equiv$ (e $\rightarrow$ dato)) $\wedge$ (fin(s) $\equiv$ (e $\rightarrow$ proximo))

\vspace{22pt}

\func{Abs}{estrIterOrd/e}{itOrd($\alpha$)}{Rep(e)}
\vspace{11pt}
($\forall$ e: estrIterOrd) Abs(e) = it: itOrdRef($\alpha$)/ verSecuSuby(it) $\equiv$ $Abs_{estrSecuOrdSinRep}$(e)

\newpage 

%ALGORITMOS
\subsection*{Algoritmos}

\textit{i}$<>$() $\longrightarrow$ res:estrSecuOrdSinRep\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ NULL \tcp*{O(1)}
\end{algorithm}

\textit{i}insertar(in a: $\alpha$, inout e: estrSecuOrdSinRep)\\
\begin{algorithm}[H]
\Orden{O(posicionRelativaDe(a))}
\BlankLine
\textbf{var} nodo: tupla $\langle$ $\alpha$ $\times$ puntero(tupla) $\rangle$
\BlankLine
nodo $\leftarrow \langle$ a, NULL $\rangle$\tcp*{O(1)}
\BlankLine
\eIf{(e == NULL)\tcp*{O(1)}}{e $\leftarrow$ $\&$nodo\tcp*{O(1)}}{
\textbf{var} it: itOrd(secuOrdSinRep($\alpha$))\\
\textbf{var} i2: itOrd(secuOrdSinRep($\alpha$))\\
\BlankLine
it $\leftarrow$ creatIT(e) \tcp*{O(1)}
it2 $\leftarrow$ NULL \tcp*{O(1)}
\BlankLine
\While{(tieneProximo?(it) $\wedge$ (a $\opsub{>}{\alpha}$ actual(it)))\tcp*{O(posicionRelativaDe(a))}}{
it2 $\leftarrow$ it \tcp*{O(1)}
avanzar(it) \tcp*{O(1)}} 
\BlankLine
\eIf{(a $\opsub{<}{\alpha}$ actual(it) $\vee$ a $\neq_\alpha$ actual(it))\tcp*{O(1)}}{
(it2 $\rightarrow$ proximo) $\leftarrow$ $\&$nodo \tcp*{O(1)}
(nodo $\rightarrow$ proximo) $\leftarrow$ $\&$it\tcp*{O(1)}}{\If{($\neg$ tieneProximo?(it))\tcp*{O(1)}}{(it $\rightarrow$ proximo) $\leftarrow$ $\&$nodo \tcp*{O(1)}}}}
\end{algorithm}

\textit{i}vacia?(in e: estrSecuOrdSinRep) $\longrightarrow$ res: bool\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ (e == NULL)
\end{algorithm}

\newpage 

\textit{i}esta?(in a: $\alpha$, e: estrSecuOrdSinRep) $\longrightarrow$ res: bool\\
\begin{algorithm}[H]
\Orden{O(posicionRelativa(a))}
\BlankLine
res $\leftarrow$ false \tcp*{O(1)}
\BlankLine
\If{(e $\neq$ NULL) \tcp*{O(1)}}{
\textbf{var} it: itOrd(secuOrdSinRep($\alpha$))\\
\BlankLine
it $\leftarrow$ crearIt(e) \tcp*{O(1)}
\BlankLine
\While{(tieneProximo(it)? $\wedge$ actual(it) $<_\alpha$ a)\tcp*{O(posicionRelativa(a))}}{avanzar(it)\tcp*{O(1)}}
\BlankLine
\If{(a $=_\alpha$ actual(it))\tcp*{O(1)}}{res $\leftarrow$ true\tcp*{O(1)}}}
\end{algorithm}

\textit{i}crearIT(in e: estrSecuOrdSinRep) $\longrightarrow$ res: estrIterOrd\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ e
\end{algorithm}

\textit{i}actual(in it: estrIterOrd) $\longrightarrow$ res: $\alpha$\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ (it $\rightarrow$ dato)
\end{algorithm}

\textit{i}tieneProximo?(in it: estrIterOrd) $\longrightarrow$ res: bool\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ (it $\rightarrow$ proximo $\neq$ NULL)
\end{algorithm}

\textit{i}avanzar(inout it: estrIterOrd)\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
it $\leftarrow$ (it $\rightarrow$ proximo)
\end{algorithm}
