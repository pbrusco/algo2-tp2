\section*{Modulo \nombretad{SecuenciaOrdSinRep($\alpha$,$<_\alpha$,$=_\alpha$)}}

%INTERFAZ
\subsection*{Interfaz}
\textbf{interfaz} \textit{SecuenciaOrdSinRep($\alpha$)}\\
\textbf{se explica con la especificaci\'on de} \textit{Secuencia($\alpha$) extendido, itOrd($\alpha$)}\\
\textbf{usa interfaces} \nombretad{Bool}, \nombretad{$\alpha$}, \nombretad{itOrd($\alpha$)}\\
\textbf{genero} \textit{secuOrdSinRep($\alpha$), itOrd($\alpha$)}\\
\textbf{operaciones}\\

$<>$()$\longrightarrow$ res: secuOrdSinRep($\alpha$)\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\}$\\

insertar(in a: $\alpha$, inout s: secuOrdSinRep($\alpha$))\\
$\{\sombreritoWide{s}\ \igobs\ s_0\ \wedge$ ordenada($s_0$)$\}$\\
$\{\sombreritoWide{s}\ \igobs$ agregarOrdenado($\sombreritoWide{a}$,$s_0$)$\}$\\

vacia?(in s: secuOrdSinRep($\alpha$))$\longrightarrow$ res: bool\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs$ vacia?($\sombreritoWide{a}$,$\sombreritoWide{s}$)$\}$\\

esta?(in a: $\alpha$, in s: secuOrdSinRep($\alpha$))$\longrightarrow$ res: bool\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs$ esta?($\sombreritoWide{a}$,$\sombreritoWide{s}$)$\}$\\

crearIt(in s: secuOrdSinRep($\alpha$))$\longrightarrow$ res: itOrd($\alpha$)\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs$ crearIt($\sombreritoWide{s}$)$\}$\\

actual(in it: itOrd($\alpha$))$\longrightarrow$ res: $\alpha$\\
$\{\neg$vacia?(verSecuSuby(it))$\}$\\
$\{$prim(verSecuSuby(it))$\}$\\

tieneProximo?(in it: itOrd($\alpha$))$\longrightarrow$ res: bool\\
$\{$true$\}$\\
$\{\sombreritoWide{res}\ \igobs\ \neg$vacia?(verSecuSuby(it))$\}$\\

avanzar(inout it: itOrd($\alpha$))\\
$\{\sombreritoWide{it}\ \igobs\ it_0\ \wedge$ tieneProximo?($it_0$)$\}$\\
$\{$verSecuSuby(it) $\igobs$ fin(verSecuSuby($it_0$))$\}$\\


%REPRESENTACION
\subsection*{Representaci\'on}
\textit{secuOrdSinRep($\alpha$)} \textbf{se representa con} \textit{estrSecuOrdSinRep}\\
\textbf{donde} \textit{estrSecuOrdSinRep} \textbf{es} \textit{puntero(nodo)}\\
\textbf{donde} \textit{nodo} \textbf{es} \textit{tupla $\langle$ dato: $\alpha$, proximo: puntero(nodo)$\rangle$}\\

\textit{itOrd($\alpha$)} \textbf{se representa con} \textit{estrIterOrd}\\
\textbf{donde} \textit{estrIterOrd} \textbf{es} \textit{puntero(nodo)}\\

%INVARIANTE DE REPRESENTACION
\subsection*{Invariante de Representaci\'on}
\alinearfuncs{Rep}{}
\func{Rep}{estrSecuOrdSinRep}{bool}{}
\vspace{11pt}
($\forall$ e: estrSecuOrdSinRep) Rep(e) = No hay ciclos en la secuencia $\wedge$ La secuencia est\'a ordenada $\wedge$ No hay repetidos en la secuencia

\vspace{22pt}

\func{Rep}{estrIterOrd}{bool}{}
\vspace{11pt}
($\forall$ e: estrIterOrd) Rep(e) = No hay ciclos en la secuencia

\vspace{33pt}

%FUNCION DE ABSTRACCION
\subsection*{Funci\'on de Abstracci\'on}
\alinearfuncs{Abs}{}
\func{Abs}{estrSecuOrdSinRep/e}{secuOrdSinRep($\alpha$)}{Rep(e)}
\vspace{11pt}
($\forall$ e: estrSecuOrdSinRep) Abs(e) = s: secuOrdSinRep($\alpha$)/\\
(vacia?(s) $\equiv$ (e == NULL)) $\yluego$ $\neg$vacia?(s) $\impluego$ (prim(s) $\equiv$ (e $\rightarrow$ dato)) $\wedge$ (fin(s) $\equiv$ (e $\rightarrow$ proximo))

\vspace{22pt}

\func{Abs}{estrIterOrd/e}{itOrd($\alpha$)}{Rep(e)}
\vspace{11pt}
($\forall$ e: estrIterOrd) Abs(e) = it: itOrdRef($\alpha$)/ verSecuSuby(it) $\equiv$ $Abs_{estrSecuOrdSinRep}$(e)

\vspace{33pt}


%ALGORITMOS
\subsection*{Algoritmos}

\textit{i}$<>$() $\longrightarrow$ res:estrSecuOrdSinRep\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ NULL
\end{algorithm}

\textit{i}insertar(in a: $\alpha$, inout e: estrSecuOrdSinRep)\\
\begin{algorithm}[H]
\Orden{O(posicionRelativaDe(a))}
\BlankLine
nodo $\leftarrow \langle$ a, NULL $\rangle$
\BlankLine
\If{(e == NULL)}{e $\leftarrow$ $\&$nodo}
\Else{
\textbf{var} it: itOrd(secuOrdSinRep($\alpha$))\\
\textbf{var} i2: itOrd(secuOrdSinRep($\alpha$))\\
\BlankLine
it $\leftarrow$ creatIT(e)\\
it2 $\leftarrow$ NULL
\BlankLine
\While{(tieneProximo?(it) $\wedge$ (a $\opsub{>}{\alpha}$ actual(it)))}{it2 $\leftarrow$ it\\ avanzar(it)}
\BlankLine
\If{(a $\opsub{<}{\alpha}$ actual(it))}{(it2 $\rightarrow$ proximo) $\leftarrow$ $\&$nodo\\ (nodo $\rightarrow$ proximo) $\leftarrow$ $\&$it}
\BlankLine
\Else{(it $\rightarrow$ proximo) $\leftarrow$ $\&$nodo}}
\end{algorithm}

\textit{i}vacia?(in e: estrSecuOrdSinRep) $\longrightarrow$ res: bool\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ (e == NULL)
\end{algorithm}

\textit{i}esta?(in a: $\alpha$, e: estrSecuOrdSinRep) $\longrightarrow$ res: bool\\
\begin{algorithm}[H]
\Orden{O(posicionRelativa(a))}
\BlankLine
res $\leftarrow$ false\\
\BlankLine
\If{(e $\neq$ NULL)}{
\textbf{var} it: itOrd(secuOrdSinRep($\alpha$))\\
\BlankLine
it $\leftarrow$ crearIt(e)
\BlankLine
\While{(tieneProximo(it)? $\wedge$ actual(it) $<_\alpha$ a)}{avanzar(it)}
\BlankLine
\If{(a $=_\alpha$ actual(it))}{res $\leftarrow$ true}}
\end{algorithm}

\textit{i}crearIT(in e: estrSecuOrdSinRep) $\longrightarrow$ res: estrIterOrd\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ e
\end{algorithm}

\textit{i}actual(in it: estrIterOrd) $\longrightarrow$ res: $\alpha$\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ (it $\rightarrow$ dato)
\end{algorithm}

\textit{i}tieneProximo?(in it: estrIterOrd) $\longrightarrow$ res: bool\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
res $\leftarrow$ (it $\rightarrow$ proximo $\neq$ NULL)
\end{algorithm}

\textit{i}avanzar(inout it: estrIterOrd)\\
\begin{algorithm}[H]
\Orden{O(1)}
\BlankLine
it $\leftarrow$ (it $\rightarrow$ proximo)
\end{algorithm}
